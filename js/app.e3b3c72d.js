(function(){var t={8660:function(t,e,n){var s={"./af":7649,"./af.js":7649,"./ar":8254,"./ar-dz":3597,"./ar-dz.js":3597,"./ar-kw":8891,"./ar-kw.js":8891,"./ar-ly":4234,"./ar-ly.js":4234,"./ar-ma":8419,"./ar-ma.js":8419,"./ar-sa":8207,"./ar-sa.js":8207,"./ar-tn":8687,"./ar-tn.js":8687,"./ar.js":8254,"./az":7707,"./az.js":7707,"./be":2556,"./be.js":2556,"./bg":5766,"./bg.js":5766,"./bm":7286,"./bm.js":7286,"./bn":3918,"./bn-bd":1754,"./bn-bd.js":1754,"./bn.js":3918,"./bo":5751,"./bo.js":5751,"./br":3232,"./br.js":3232,"./bs":6904,"./bs.js":6904,"./ca":660,"./ca.js":660,"./cs":3424,"./cs.js":3424,"./cv":4394,"./cv.js":4394,"./cy":6930,"./cy.js":6930,"./da":5961,"./da.js":5961,"./de":5485,"./de-at":6909,"./de-at.js":6909,"./de-ch":665,"./de-ch.js":665,"./de.js":5485,"./dv":5133,"./dv.js":5133,"./el":2072,"./el.js":2072,"./en-au":7115,"./en-au.js":7115,"./en-ca":9933,"./en-ca.js":9933,"./en-gb":6902,"./en-gb.js":6902,"./en-ie":8129,"./en-ie.js":8129,"./en-il":978,"./en-il.js":978,"./en-in":1126,"./en-in.js":1126,"./en-nz":2683,"./en-nz.js":2683,"./en-sg":9012,"./en-sg.js":9012,"./eo":8130,"./eo.js":8130,"./es":7416,"./es-do":961,"./es-do.js":961,"./es-mx":4863,"./es-mx.js":4863,"./es-us":9634,"./es-us.js":9634,"./es.js":7416,"./et":9254,"./et.js":9254,"./eu":4926,"./eu.js":4926,"./fa":810,"./fa.js":810,"./fi":6118,"./fi.js":6118,"./fil":4658,"./fil.js":4658,"./fo":3609,"./fo.js":3609,"./fr":683,"./fr-ca":7877,"./fr-ca.js":7877,"./fr-ch":2257,"./fr-ch.js":2257,"./fr.js":683,"./fy":3980,"./fy.js":3980,"./ga":6847,"./ga.js":6847,"./gd":6511,"./gd.js":6511,"./gl":9897,"./gl.js":9897,"./gom-deva":3384,"./gom-deva.js":3384,"./gom-latn":7615,"./gom-latn.js":7615,"./gu":6735,"./gu.js":6735,"./he":163,"./he.js":163,"./hi":2163,"./hi.js":2163,"./hr":7013,"./hr.js":7013,"./hu":2306,"./hu.js":2306,"./hy-am":2008,"./hy-am.js":2008,"./id":2273,"./id.js":2273,"./is":5993,"./is.js":5993,"./it":885,"./it-ch":5694,"./it-ch.js":5694,"./it.js":885,"./ja":2761,"./ja.js":2761,"./jv":9590,"./jv.js":9590,"./ka":9851,"./ka.js":9851,"./kk":7308,"./kk.js":7308,"./km":8164,"./km.js":8164,"./kn":7660,"./kn.js":7660,"./ko":8806,"./ko.js":8806,"./ku":1332,"./ku.js":1332,"./ky":217,"./ky.js":217,"./lb":5968,"./lb.js":5968,"./lo":7127,"./lo.js":7127,"./lt":1495,"./lt.js":1495,"./lv":8297,"./lv.js":8297,"./me":2829,"./me.js":2829,"./mi":4706,"./mi.js":4706,"./mk":9242,"./mk.js":9242,"./ml":6309,"./ml.js":6309,"./mn":4386,"./mn.js":4386,"./mr":2377,"./mr.js":2377,"./ms":9407,"./ms-my":9578,"./ms-my.js":9578,"./ms.js":9407,"./mt":7175,"./mt.js":7175,"./my":8846,"./my.js":8846,"./nb":5355,"./nb.js":5355,"./ne":9878,"./ne.js":9878,"./nl":6486,"./nl-be":2548,"./nl-be.js":2548,"./nl.js":6486,"./nn":5528,"./nn.js":5528,"./oc-lnc":278,"./oc-lnc.js":278,"./pa-in":2173,"./pa-in.js":2173,"./pl":975,"./pl.js":975,"./pt":7923,"./pt-br":7755,"./pt-br.js":7755,"./pt.js":7923,"./ro":4993,"./ro.js":4993,"./ru":361,"./ru.js":361,"./sd":5236,"./sd.js":5236,"./se":3983,"./se.js":3983,"./si":2055,"./si.js":2055,"./sk":5945,"./sk.js":5945,"./sl":8703,"./sl.js":8703,"./sq":9866,"./sq.js":9866,"./sr":9326,"./sr-cyrl":3181,"./sr-cyrl.js":3181,"./sr.js":9326,"./ss":3437,"./ss.js":3437,"./sv":7875,"./sv.js":7875,"./sw":1230,"./sw.js":1230,"./ta":1056,"./ta.js":1056,"./te":7758,"./te.js":7758,"./tet":6428,"./tet.js":6428,"./tg":4951,"./tg.js":4951,"./th":4925,"./th.js":4925,"./tk":9861,"./tk.js":9861,"./tl-ph":415,"./tl-ph.js":415,"./tlh":3770,"./tlh.js":3770,"./tr":7987,"./tr.js":7987,"./tzl":5774,"./tzl.js":5774,"./tzm":6861,"./tzm-latn":5807,"./tzm-latn.js":5807,"./tzm.js":6861,"./ug-cn":3550,"./ug-cn.js":3550,"./uk":6130,"./uk.js":6130,"./ur":7344,"./ur.js":7344,"./uz":6842,"./uz-latn":5616,"./uz-latn.js":5616,"./uz.js":6842,"./vi":2118,"./vi.js":2118,"./x-pseudo":6084,"./x-pseudo.js":6084,"./yo":80,"./yo.js":80,"./zh-cn":5908,"./zh-cn.js":5908,"./zh-hk":4428,"./zh-hk.js":4428,"./zh-mo":3478,"./zh-mo.js":3478,"./zh-tw":912,"./zh-tw.js":912};function o(t){var e=r(t);return n(e)}function r(t){if(!n.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}o.keys=function(){return Object.keys(s)},o.resolve=r,t.exports=o,o.id=8660},2284:function(t,e,n){"use strict";n.d(e,{Fq:function(){return o},PQ:function(){return a},UO:function(){return i},s:function(){return r}});var s=n(7510);function o(t){return(0,s.Z)({url:"/suggestion",params:{q:t}})}function r(t,e){return(0,s.Z)({url:"/search",params:{page:t,per_page:10,q:e}})}function a(t){return(0,s.Z)({url:`/articles/${t}`})}function i(t,e){return(0,s.Z)({url:"/articles",params:{channel_id:t,timestamp:e}})}},5112:function(t,e,n){"use strict";n.r(e),n.d(e,{Follow:function(){return i},getUserInfo:function(){return r},getUserProfile:function(){return a},login:function(){return o},unFollow:function(){return l}});var s=n(7510);function o(t){return(0,s.Z)({url:"/authorizations",method:"post",data:t})}function r(){return(0,s.Z)({url:"/user"})}function a(){return(0,s.Z)({url:"/user/profile"})}function i(t){return(0,s.Z)({url:"/user/followings",method:"post",data:{target:t}})}function l(t){return(0,s.Z)({url:`/user/followings/${t}`,method:"delete"})}},1183:function(t,e,n){"use strict";n(8795);var s=n(1957),o=(n(7725),n(3700)),r=(n(6616),n(3324)),a=(n(7509),n(583)),i=(n(9497),n(8873)),l=(n(5980),n(9394)),c=(n(319),n(5484)),u=(n(2643),n(6964)),d=(n(6163),n(332)),m=(n(9045),n(1389)),h=(n(3299),n(4402)),f=(n(8652),n(6226)),p=(n(7719),n(9710)),v=(n(3097),n(2331)),g=(n(2290),n(1914)),j=(n(7887),n(1704)),_=(n(8197),n(6619)),b=(n(6310),n(501)),k=(n(40),n(8747)),y=(n(1440),n(7460)),C=(n(6848),n(6678)),w=(n(8435),n(7218)),Z=n(813),S=function(){var t=this,e=t._self._c;return e("keep-alive",{attrs:{include:"Home"}},[e("router-view")],1)},x=[],P=n(8081),z={},L=(0,P.Z)(z,S,x,!1,null,null,null),q=L.exports,O=(n(5908),n(9403));Z.ZP.use(w.Z),Z.ZP.use(C.Z),Z.ZP.use(y.Z),Z.ZP.use(k.Z),Z.ZP.use(b.Z),Z.ZP.use(_.Z),Z.ZP.use(j.Z),Z.ZP.use(g.Z),Z.ZP.use(v.Z),Z.ZP.use(p.Z),Z.ZP.use(f.Z),Z.ZP.use(h.Z),Z.ZP.use(m.Z),Z.ZP.use(d.Z),Z.ZP.use(u.Z),Z.ZP.use(c.Z),Z.ZP.use(l.Z),Z.ZP.use(i.Z),Z.ZP.use(a.Z),Z.ZP.use(r.Z),Z.ZP.use(o.Z),Z.ZP.use(s.Z),Z.ZP.config.productionTip=!1,new Z.ZP({render:t=>t(q),router:O.Z}).$mount("#app")},9403:function(t,e,n){"use strict";n.d(e,{Z:function(){return mt}});var s=n(4446),o=n(813),r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"login"},[e("van-icon",{attrs:{name:"arrow-left",size:"20",color:"#999"},on:{click:t.goHome}}),e("h2",[t._v("短信登录")]),e("van-form",{ref:"form",attrs:{"show-error":!1}},[e("van-field",{attrs:{placeholder:"请输入手机号",rules:[{required:!0,message:"手机号格式错误",pattern:/^1[3-9][0-9]{9}$/,trigger:"onBlur"}]},model:{value:t.params.mobile,callback:function(e){t.$set(t.params,"mobile",e)},expression:"params.mobile"}}),e("van-field",{attrs:{placeholder:"请输入验证码",rules:[{required:!0,message:"验证码格式错误",pattern:/^[0-9]{6}$/,trigger:"onBlur"}]},scopedSlots:t._u([{key:"button",fn:function(){return[e("span",{staticClass:"send-code"},[t._v("发送验证码")])]},proxy:!0}]),model:{value:t.params.code,callback:function(e){t.$set(t.params,"code",e)},expression:"params.code"}}),e("van-button",{staticClass:"login-btn",attrs:{color:"linear-gradient(to bottom right, #fe4f4d, #fc652c)"},on:{click:t.onLogin}},[t._v(" 登 录 ")])],1)],1)},a=[],i=(n(9497),n(8873)),l=(n(768),n(5112)),c={data(){return{params:{mobile:"13012341234",code:"246810"}}},methods:{goHome(){this.$router.push("/")},onLogin(){this.$refs.form.validate().then((()=>{l.login(this.params).then((t=>{localStorage.setItem("token",t.data.data.token),i.Z.success(t.data.message),this.$router.go(-1)})).catch((()=>{i.Z.fail("登录失败")}))}))}}},u=c,d=n(8081),m=(0,d.Z)(u,r,a,!1,null,"1d15a964",null),h=m.exports,f=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"win"},[e("keep-alive",{attrs:{exclude:["Qa"]}},[e("router-view")],1)],1),e("van-tabbar",{model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[e("van-tabbar-item",{attrs:{icon:"home-o",to:"/"}},[t._v(" 首页 ")]),e("van-tabbar-item",{attrs:{icon:"search",to:"/qa"}},[t._v(" 问答 ")]),e("van-tabbar-item",{attrs:{icon:"friends-o",to:"/video"}},[t._v(" 视频 ")]),e("van-tabbar-item",{attrs:{icon:"manager-o",to:"/mine"}},[t._v(" 我的 ")])],1)],1)},p=[],v=(n(1063),n(3860)),g=(n(7099),n(6059)),j={name:"Home",data(){return{active:-1}},components:{VanTabbar:g.Z,VanTabbarItem:v.Z}},_=j,b=(0,d.Z)(_,f,p,!1,null,"1378d50d",null),k=b.exports,y=function(){var t=this,e=t._self._c;return e("div",{staticClass:"profile"},[e("van-nav-bar",{attrs:{title:"个人信息"},on:{"click-left":t.onGoBack},scopedSlots:t._u([{key:"left",fn:function(){return[e("van-icon",{attrs:{name:"arrow-left",size:"16",color:"#000"}})]},proxy:!0}])}),e("van-cell",{attrs:{title:"头像","is-link":""}},[e("div",{staticClass:"image-wrapper"},[e("van-image",{attrs:{round:"",width:"20px",height:"20px",src:t.profile.photo}})],1)]),e("van-cell",{attrs:{title:"昵称","is-link":"",value:t.profile.name}}),e("van-cell",{attrs:{title:"简介","is-link":"",value:t.profile.intro}}),e("div",{staticClass:"gap"}),e("van-cell",{attrs:{title:"性别","is-link":"",value:t.profile.gender?"女":"男"}}),e("van-cell",{attrs:{title:"生日","is-link":"",value:t.formatter(t.profile.birthday)}}),e("div",{staticClass:"sign-out",on:{click:t.onSignOut}},[t._v(" 退出登录 ")])],1)},C=[],w=(n(3157),n(9029)),Z=n(4629),S=n.n(Z),x={data(){return{profile:{}}},methods:{onSignOut(){w.Z.confirm({title:"温馨提示",message:"需要退出吗？"}).then((()=>{localStorage.removeItem("token"),this.$router.push("/login")}))},onGoBack(){this.$router.push("/mine")},formatter(t){return S()(t).format("YYYY-MM-DD")}},async created(){const t=await l.getUserProfile();this.profile=t.data.data}},P=x,z=(0,d.Z)(P,y,C,!1,null,"59f6ba28",null),L=z.exports,q=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"search"},[e("van-icon",{staticClass:"back",attrs:{name:"arrow-left"},on:{click:t.goBack}}),e("van-search",{staticClass:"search-bar",attrs:{"show-action":"",shape:"round",placeholder:"请输入搜索关键词"},on:{input:t.onInput,search:t.onSearch},scopedSlots:t._u([{key:"action",fn:function(){return[e("div",{on:{click:function(e){return t.onSearch(t.value)}}},[t._v("搜索")])]},proxy:!0}]),model:{value:t.value,callback:function(e){t.value="string"===typeof e?e.trim():e},expression:"value"}})],1),t._l(t.options,(function(n){return e("van-cell",{key:n,attrs:{icon:"search"},on:{click:function(e){return t.onSearch(n)}},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{domProps:{innerHTML:t._s(t.highlight(n))}})]},proxy:!0}],null,!0)})})),t.value?t._e():[t.history.length?e("van-cell",{attrs:{center:""},scopedSlots:t._u([{key:"right-icon",fn:function(){return[e("van-icon",{attrs:{name:"delete-o"},on:{click:t.clearHistory}})]},proxy:!0}],null,!1,1993403423)},[t._v(" 历史记录 ")]):t._e(),t._l(t.history.reverse(),(function(n){return e("van-cell",{key:n,attrs:{center:""},on:{click:function(e){return t.onSearch(n)}},scopedSlots:t._u([{key:"right-icon",fn:function(){return[e("van-icon",{attrs:{name:"cross"},on:{click:function(e){return t.removeHistory(n)}}})]},proxy:!0}],null,!0)},[t._v(" "+t._s(n)+" ")])}))]],2)},O=[],$=(n(2643),n(6964)),A=n(2284),B=n(8128),F={components:{[$.Z.name]:$.Z},data(){return{value:"",options:[],history:JSON.parse(localStorage.getItem("history"))||[]}},methods:{goBack(){this.$router.go(-1)},onSearch(t){const e=JSON.parse(localStorage.getItem("history"))||[];e.includes(t)||(e.push(t),localStorage.setItem("history",JSON.stringify(e))),this.$router.push({path:"/search-result",query:{q:t}})},onInput:(0,B.Z)((async function(t){if(!t)return void(this.options=[]);const e=await A.Fq(t);this.options=e.data.data.options.filter((t=>"string"===typeof t))}),300),highlight(t){return t.toLowerCase().replace(this.value,`<span class="highlight">${this.value}</span>`)},removeHistory(t){this.history=this.history.filter((e=>e!==t)),localStorage.setItem("history",JSON.stringify(this.history))},clearHistory(){this.history=[],localStorage.setItem("history",JSON.stringify(this.history))}}},N=F,T=(0,d.Z)(N,q,O,!1,null,"557357eb",null),D=T.exports,E=function(){var t=this,e=t._self._c;return e("div",[e("van-nav-bar",{attrs:{title:"搜索结果","left-arrow":""},on:{"click-left":t.onBack}}),e("article-list",{attrs:{data:t.results,req:t.onReq,closeable:!0},on:{close:t.onCloseList}})],1)},I=[],H=n(6218),M={components:{ArticleList:H.Z},data(){return{results:[]}},created(){},methods:{onBack(){this.$router.go(-1)},async onReq(t){const e=await A.s(t,this.$route.query.q);return this.results=this.results.concat(e.data.data.results),20===e.data.data.results.length},onCloseList(){console.log(13)}}},U=M,Y=(0,d.Z)(U,E,I,!1,null,null,null),J=Y.exports,Q=function(){var t=this,e=t._self._c;return e("div",[e("van-nav-bar",{attrs:{"left-arrow":"",fixed:""},on:{"click-left":t.goBack},scopedSlots:t._u([{key:"right",fn:function(){return[e("van-icon",{attrs:{name:"more-o",size:"18"},on:{click:t.onPopupOpen}})]},proxy:!0}])}),e("van-share-sheet",{attrs:{title:"立即分享给好友",options:t.options},model:{value:t.showShare,callback:function(e){t.showShare=e},expression:"showShare"}}),e("div",{staticClass:"artcle-list"},[e("h4",[t._v(t._s(t.results.title))]),e("div",{staticClass:"down"},[e("span",[t._v(t._s(t.getDate(t.results.pubdate))+" 丨")]),e("span",[t._v(t._s(t.results.read_count)+"阅读 丨")]),e("span",[t._v(t._s(t.results.comm_count)+"评论")])]),e("div",[e("van-sticky",[e("div",{staticClass:"info"},[e("van-image",{attrs:{round:"",width:"3rem",height:"3rem",src:t.results.aut_photo}}),e("div",{staticClass:"author"},[t._v(t._s(t.results.aut_name))]),e("van-button",{staticClass:"follow-btn",attrs:{round:"",type:t.results.is_followed?"info":"primary",size:"mini"},on:{click:function(e){return t.onCurrentCommentFollow(t.currentComment)}}},[t._v(" "+t._s(t.results.is_followed?"+关注":"已关注")+" ")])],1)]),e("div",{staticClass:"artcle-content",domProps:{innerHTML:t._s(t.results.content)}}),e("div",{staticClass:"later"},[e("span",[t._v("发布文章时间:")]),e("span",[t._v(t._s(t.results.pubdate))])]),e("div",{staticClass:"comment-top"},[e("span",[t._v("全部评论("+t._s(t.CommentList.total_count)+")")]),e("span",[t._v("1 点赞")])]),e("comment-list",{attrs:{data:t.CommentList,loading:t.commentListLoading},on:{reply:t.onCommentReply,like:t.onCommentLike}})],1),e("div",{staticClass:"artcle-down"},[e("van-field",{staticClass:"input",attrs:{placeholder:"抢沙发"},on:{click:t.onComment}}),e("div",{staticClass:"more"},[e("van-icon",{attrs:{name:"chat-o",badge:"9",size:"25px"}}),e("van-icon",{attrs:{color:1===t.results.like_count?"red":"",name:"good-job-o",size:"25px"},on:{click:t.onLike}}),e("van-icon",{attrs:{color:1===t.results.like_count?"red":"",name:"like-o",size:"25px"}}),e("van-icon",{attrs:{name:"share-o",size:"25px"}})],1)],1)]),e("van-popup",{style:{height:"100vh",width:"100%"},attrs:{position:"bottom"},model:{value:t.isShow,callback:function(e){t.isShow=e},expression:"isShow"}},[e("van-nav-bar",{attrs:{title:"评论文章","right-text":"发表","left-arrow":""},on:{"click-left":t.onClickLeft,"click-right":function(e){return t.onCommentArticle(t.$route.params.q,t.message)}}}),e("van-field",{staticClass:"input-box",attrs:{rows:"5",autosize:"",type:"textarea",placeholder:"说点什么..."},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}})],1),e("van-popup",{style:{height:"100vh",width:"100%"},attrs:{position:"right"},model:{value:t.isShowCommentPopup,callback:function(e){t.isShowCommentPopup=e},expression:"isShowCommentPopup"}},[e("van-nav-bar",{attrs:{title:"0条回复","left-arrow":""},on:{"click-left":function(e){t.isShowCommentPopup=!1}}}),e("div",{staticClass:"current-comment"},[e("van-image",{staticClass:"avatar",attrs:{round:"",width:"3rem",height:"3rem",src:t.results.aut_photo}}),e("div",{staticClass:"comment-content"},[e("header",[e("div",{staticClass:"username"},[t._v("2324523")]),e("van-button",{staticClass:"follow-btn",attrs:{round:"",type:t.results.is_followed?"info":"primary",size:"mini"},on:{click:function(e){return t.onCurrentCommentFollow(t.currentComment)}}},[t._v(" "+t._s(t.results.is_followed?"+关注":"已关注")+" ")])],1),e("div",{staticClass:"content"},[t._v("内容")]),e("footer",[e("span",{staticClass:"comment-time"},[t._v("1小时内")]),e("span",{staticClass:"like-count"},[t._v("2")])])])],1)],1)],1)},R=[],G=n(7510);function V(t,e){return(0,G.Z)({url:"/comments",params:{type:t?"a":"c",source:e}})}function K(t,e){return(0,G.Z)({url:"/comments",method:"post",data:{target:t,content:e}})}function W(t){return(0,G.Z)({url:"/article/likings",method:"post",data:{target:t}})}function X(t){return(0,G.Z)({url:`/article/likings/${t}`,method:"delete"})}var tt={methods:{goBack(){this.$router.go(-1)}}},et=function(){var t=this,e=t._self._c;return e("div",{staticClass:"all-comment"},[t._l(t.data,(function(n){return e("div",{key:n.com_id},[e("div",{staticClass:"info"},[e("van-image",{attrs:{round:"",width:"3rem",height:"3rem",src:n.aut_photo}}),e("div",{staticClass:"author"},[t._v(t._s(n.aut_name))]),e("span",[t._v(t._s(n.like_count))]),e("van-icon",{attrs:{name:"good-job-o"}})],1),e("div",{staticClass:"reply-content"},[e("div",{staticClass:"commment-content"},[t._v(t._s(n.content))]),e("van-button",{staticClass:"reply",attrs:{plain:"",type:"info"},on:{click:function(e){return t.$emit("reply",n)}}},[t._v(" 回复> ")]),e("span",[t._v(t._s(t.getDate(n.pubdate)))])],1)])})),e("div",{staticClass:"other"},[t._v("123")])],2)},nt=[],st={props:{data:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},methods:{getDate(t){return S()(t).toNow().replace("后","内")},replyComment(){}}},ot=st,rt=(0,d.Z)(ot,et,nt,!1,null,"07b05208",null),at=rt.exports,it=(n(1368),{mixins:[tt],components:{CommentList:at},data(){return{message:"",active:-1,results:{},CommentList:[],currentComment:{},commentListLoading:!0,showShare:!1,isShow:!1,isShowCommentPopup:!1,options:[[{name:"微信",icon:"wechat"},{name:"朋友圈",icon:"wechat-moments"},{name:"微博",icon:"weibo"},{name:"QQ",icon:"qq"}],[{name:"复制链接",icon:"link"},{name:"分享海报",icon:"poster"},{name:"二维码",icon:"qrcode"},{name:"小程序码",icon:"weapp-qrcode"}]]}},async created(){this.refresh(),this.commentListLoading=!1},methods:{onPen(t){console.log(t.com_id)},onPopupOpen(){this.showShare=!0},getDate(t){return S()(t).diff(t,"year")+1},onComment(){this.isShow=!0},onClickLeft(){this.$router.go(-1)},onCommentReply(t){console.log("评论",t),this.isShowCommentPopup=!0},onCommentLike(){console.log("点赞",item)},onCommentArticle(t,e){K(t,e).then((t=>{this.message="",this.isShow=!1,this.refresh(),console.log(t),console.log("评论成功")})),this.refresh()},onLike(){1===this.results.like_count?X(this.results.art_id).then((t=>{console.log(t),console.log("取消点赞"),this.refresh()})):W(this.results.art_id).then((t=>{console.log(t),console.log("点赞成功"),this.refresh()}))},async refresh(){const t=await A.PQ(this.$route.params.q);this.results=t.data.data,console.log(this.results),V(!0,this.$route.params.q).then((t=>{console.log(t),this.CommentList=t.data.data.results}))},onFonCurrentCommentFollowollow(t){l[t?"unFollow":"Follow"](t.aut_id).then((async()=>{console.log(is_followed?"关注成功":"取消关注成功"),await this.refresh(),this.currentComment=this.CommentList.find((e=>e.com_id===t.com_id))}))}}}),lt=it,ct=(0,d.Z)(lt,Q,R,!1,null,"3c906c20",null),ut=ct.exports;o.ZP.use(s.Z);const dt=[{path:"/login",component:h},{path:"/profile",component:L},{path:"/search",component:D},{path:"/search-result",component:J},{path:"/article/:id",name:"article",component:ut},{path:"/",component:k,children:[{path:"/",component:()=>n.e(597).then(n.bind(n,2597)),name:"Home"},{path:"/qa",component:()=>n.e(271).then(n.bind(n,7271))},{path:"/video",component:()=>n.e(962).then(n.bind(n,1962))},{path:"/mine",component:()=>n.e(882).then(n.bind(n,1882))}]}];var mt=new s.Z({routes:dt})},7510:function(t,e,n){"use strict";n(768);var s=n(5642),o=n(9403);const r=s.Z.create({baseURL:"http://toutiao.itheima.net/v1_0"});r.interceptors.request.use((t=>(t.headers.Authorization=`Bearer ${localStorage.getItem("token")}`,t))),r.interceptors.response.use((t=>t),(t=>(401===t.response.status&&o.Z.push("/login"),Promise.reject(t)))),e["Z"]=r},6218:function(t,e,n){"use strict";n.d(e,{Z:function(){return m}});var s=function(){var t=this,e=t._self._c;return e("van-list",{staticClass:"resuts",attrs:{finished:t.finished,"finished-text":"没有更多了",offset:"1"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.data,(function(n){return e("div",{key:n.art_id,staticClass:"article-list"},[1===n.cover.type?e("div",{staticClass:"acticle-item",on:{click:function(e){return t.onArticleClick(n.art_id)}}},[t.closeable?e("div",{on:{click:function(e){return t.$emit("close")}}},[t._v(" x ")]):t._e(),e("div",{staticClass:"title"},[t._v(t._s(n.title))]),e("div",{staticClass:"pic"},[e("img",{attrs:{src:n.cover.images[0]}})]),e("div",{staticClass:"down"},[e("span",[t._v(t._s(n.aut_name))]),e("span",[t._v(t._s(n.collect_count)+"评论")]),e("span",[t._v(t._s(t.getYearDiff(n.pubdate))+"年内")])])]):e("div",{staticClass:"acticle-other",on:{click:function(e){return t.onArticleClick(n.art_id)}}},[e("div",{staticClass:"title"},[t._v(t._s(n.title))]),0!==n.cover.type?e("div",{staticClass:"pic"},t._l(n.cover.images,(function(t,n){return e("img",{key:n,attrs:{src:t,alt:""}})})),0):t._e(),e("div",{staticClass:"down"},[e("span",[t._v(t._s(n.aut_name))]),e("span",[t._v(t._s(n.collect_count)+"评论")]),e("span",[t._v(t._s(t.getYearDiff(n.pubdate))+"年内")])])])])})),0)},o=[],r=(n(768),n(4629)),a=n.n(r),i=n(7540),l={props:{data:{type:Array,default:()=>[]},req:{type:Function,default:()=>()=>{}},closeable:{type:Boolean,default:!1}},updated(){console.log(this.loading,"loading"),console.log(this.finished,"finished"),console.log(this.data,"data")},data(){return{loading:!0,finished:!1,currentPage:1}},created(){this.refresh()},methods:{onLoad(){this.refresh(),this.currentPage++},getYearDiff(t){return a()().diff(t,"years")+1},refresh:(0,i.Z)((async function(){const t=await this.req(this.currentPage++);this.loading=!1,t||(this.finished=!0)}),1e3),onArticleClick(t){this.$router.push({name:"article",params:{q:t}})}}},c=l,u=n(8081),d=(0,u.Z)(c,s,o,!1,null,"1756e099",null),m=d.exports}},e={};function n(s){var o=e[s];if(void 0!==o)return o.exports;var r=e[s]={id:s,loaded:!1,exports:{}};return t[s].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}n.m=t,function(){var t=[];n.O=function(e,s,o,r){if(!s){var a=1/0;for(u=0;u<t.length;u++){s=t[u][0],o=t[u][1],r=t[u][2];for(var i=!0,l=0;l<s.length;l++)(!1&r||a>=r)&&Object.keys(n.O).every((function(t){return n.O[t](s[l])}))?s.splice(l--,1):(i=!1,r<a&&(a=r));if(i){t.splice(u--,1);var c=o();void 0!==c&&(e=c)}}return e}r=r||0;for(var u=t.length;u>0&&t[u-1][2]>r;u--)t[u]=t[u-1];t[u]=[s,o,r]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var s in e)n.o(e,s)&&!n.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){n.f={},n.e=function(t){return Promise.all(Object.keys(n.f).reduce((function(e,s){return n.f[s](t,e),e}),[]))}}(),function(){n.u=function(t){return"js/"+t+"."+{271:"0c3d578e",597:"5469b99d",882:"948c8488",962:"0bcdc450"}[t]+".js"}}(),function(){n.miniCssF=function(t){return"css/"+t+"."+{271:"69a01b44",597:"1b6003fb",882:"f3196db7"}[t]+".css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="toutiao:";n.l=function(s,o,r,a){if(t[s])t[s].push(o);else{var i,l;if(void 0!==r)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==s||d.getAttribute("data-webpack")==e+r){i=d;break}}i||(l=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,n.nc&&i.setAttribute("nonce",n.nc),i.setAttribute("data-webpack",e+r),i.src=s),t[s]=[o];var m=function(e,n){i.onerror=i.onload=null,clearTimeout(h);var o=t[s];if(delete t[s],i.parentNode&&i.parentNode.removeChild(i),o&&o.forEach((function(t){return t(n)})),e)return e(n)},h=setTimeout(m.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=m.bind(null,i.onerror),i.onload=m.bind(null,i.onload),l&&document.head.appendChild(i)}}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){n.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){n.p="/"}(),function(){if("undefined"!==typeof document){var t=function(t,e,n,s,o){var r=document.createElement("link");r.rel="stylesheet",r.type="text/css";var a=function(n){if(r.onerror=r.onload=null,"load"===n.type)s();else{var a=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.href||e,l=new Error("Loading CSS chunk "+t+" failed.\n("+i+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=a,l.request=i,r.parentNode.removeChild(r),o(l)}};return r.onerror=r.onload=a,r.href=e,n?n.parentNode.insertBefore(r,n.nextSibling):document.head.appendChild(r),r},e=function(t,e){for(var n=document.getElementsByTagName("link"),s=0;s<n.length;s++){var o=n[s],r=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(r===t||r===e))return o}var a=document.getElementsByTagName("style");for(s=0;s<a.length;s++){o=a[s],r=o.getAttribute("data-href");if(r===t||r===e)return o}},s=function(s){return new Promise((function(o,r){var a=n.miniCssF(s),i=n.p+a;if(e(a,i))return o();t(s,i,null,o,r)}))},o={143:0};n.f.miniCss=function(t,e){var n={271:1,597:1,882:1};o[t]?e.push(o[t]):0!==o[t]&&n[t]&&e.push(o[t]=s(t).then((function(){o[t]=0}),(function(e){throw delete o[t],e})))}}}(),function(){var t={143:0};n.f.j=function(e,s){var o=n.o(t,e)?t[e]:void 0;if(0!==o)if(o)s.push(o[2]);else{var r=new Promise((function(n,s){o=t[e]=[n,s]}));s.push(o[2]=r);var a=n.p+n.u(e),i=new Error,l=function(s){if(n.o(t,e)&&(o=t[e],0!==o&&(t[e]=void 0),o)){var r=s&&("load"===s.type?"missing":s.type),a=s&&s.target&&s.target.src;i.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",i.name="ChunkLoadError",i.type=r,i.request=a,o[1](i)}};n.l(a,l,"chunk-"+e,e)}},n.O.j=function(e){return 0===t[e]};var e=function(e,s){var o,r,a=s[0],i=s[1],l=s[2],c=0;if(a.some((function(e){return 0!==t[e]}))){for(o in i)n.o(i,o)&&(n.m[o]=i[o]);if(l)var u=l(n)}for(e&&e(s);c<a.length;c++)r=a[c],n.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return n.O(u)},s=self["webpackChunktoutiao"]=self["webpackChunktoutiao"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=n.O(void 0,[998],(function(){return n(1183)}));s=n.O(s)})();
//# sourceMappingURL=app.e3b3c72d.js.map